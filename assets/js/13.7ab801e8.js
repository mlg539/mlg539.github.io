(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{285:function(t,n,e){"use strict";e.r(n);var v=e(14),_=Object(v.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"list-业务组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#list-业务组件"}},[t._v("#")]),t._v(" list 业务组件")]),t._v(" "),n("h2",{attrs:{id:"基本用法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基本用法"}},[t._v("#")]),t._v(" 基本用法")]),t._v(" "),n("p",[t._v("::: demo")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("<template>\n  <div class=\"demo-list\">\n    <QkList\n      :loading=\"loading\"\n      :search=\"search\"\n      :table=\"table\"\n      :page=\"page\"\n      @on-search=\"onSearch\"\n    />\n  </div>\n</template>\n\n<script>\n  export default {\n    data() {\n      const { changeFieldsByProp, formField, formFieldGroup, generateBtns } = this.$qkUtils\n      const sex = [{value: 1, label:'男'},{value: 2, label:'女'}]\n      return {\n        loading: false,\n        // 搜索条件\n        search: {\n          formData: {\n            test: []\n          },\n          fields: [\n            // 对象方式\n            { tag: 'el-input', field: 'username', label: '用户名', config: { attrs: { placeholder: '用户名' }, props: { clearable: true }} },\n            // 函数方式 默认渲染el-input标签\n            formField(\"name\", \"姓名\"),\n            formFieldGroup(\"sex\", \"性别\", sex),\n            // 函数方式 指定渲染标签\n            formField(\"time\", \"时间\", 'DatePicker', { props: { type: 'datetime' }}),\n          ],\n          btns: [\n          // { text: '新增', icon: 'add', click: this.addData },\n            { text: '新增', click: this.addData }\n          ],\n        },\n        // 表格\n        table: {\n          data: [],\n          columns: [\n            {\n              key: \"userName\",\n              label: \"用户名\"\n            },\n            {\n              key: \"name\",\n              label: \"姓名\"\n            },\n            {\n              key: \"mobile\",\n              label: \"手机号\"\n            },\n            {\n              key: 'supplier.name',\n              label: '厂商'\n            },\n            {\n              key: \"identityCard\",\n              label: \"身份证\"\n            },\n            {\n              key: \"sex\",\n              label: \"性别\",\n              options: sex\n            },\n            {\n              key: \"qq\",\n              label: \"qq\"\n            },\n            {\n              key: \"email\",\n              label: \"电子邮箱\"\n            },\n            {\n              key: \"address\",\n              label: \"联系地址\"\n            },\n            {\n              key: \"buttons\",\n              label: \"操作\",\n              width: \"120\",\n              align: \"center\",\n              fixed: \"right\",\n              render: (h, params) => {\n                const buttons = [\n                  {\n                    text: \"编辑\",\n                    click: this.updateData,\n                  },\n                  {\n                    text: \"详情\",\n                    click: this.showDetail,\n                  }\n                ]\n                return generateBtns(h, params, buttons)\n              },\n            },\n          ],\n        },\n        // 分页\n        page: {\n          num: 1,\n          size: 20,\n          totalElement: 0,\n        },\n      }\n    },\n  created() {\n    this.table.data = [\n      {\n        userName: 'li1',\n        name: '李1',\n        mobile: '15717179551',\n        identityCard: '1234567891223231233456',\n        sex: 1,\n        qq: ['123456789', '123', '123312312323'],\n        supplier: {\n          name: '厂商1'\n        },\n        org: {\n          type: 1\n        }\n      },\n      {\n        userName: 'li2',\n        name: '李2',\n        mobile: '15717179552',\n        identityCard: '123456789123456',\n        sex: 2,\n        qq: '123456789',\n        supplier: {\n          name: '厂商2'\n        }\n      },\n      {\n        userName: 'li1',\n        name: '李1',\n        mobile: '15717179551',\n        identityCard: '123456789123456',\n        sex: 1,\n        qq: ['123456789', '123', '123312312323']\n      },\n      {\n        userName: 'li2',\n        name: '李2',\n        mobile: '15717179552',\n        identityCard: '123456789123456',\n        sex: 2,\n        qq: '123456789'\n      },\n      {\n        userName: 'li1',\n        name: '李1',\n        mobile: '15717179551',\n        identityCard: '123456789123456',\n        sex: 1,\n        qq: ['123456789', '123']\n      },\n      {\n        userName: 'li2',\n        name: '李2',\n        mobile: '15717179552',\n        identityCard: '123456789123456',\n        sex: 2,\n        qq: '123456789'\n      },\n      {\n        userName: 'li1',\n        name: '李1',\n        mobile: '15717179551',\n        identityCard: '123456789123456',\n        sex: 1,\n        qq: ['123456789', '123']\n      },\n      {\n        userName: 'li2',\n        name: '李2',\n        mobile: '15717179552',\n        identityCard: '123456789123456',\n        sex: 2,\n        qq: '123456789'\n      },\n      {\n        userName: 'li1',\n        name: '李1',\n        mobile: '15717179551',\n        identityCard: '123456789123456',\n        sex: 1,\n        qq: ['123456789', '123']\n      },\n      {\n        userName: 'li2',\n        name: '李2',\n        mobile: '15717179552',\n        identityCard: '123456789123456',\n        sex: 2,\n        qq: '123456789'\n      },\n      {\n        userName: 'li1',\n        name: '李1',\n        mobile: '15717179551',\n        identityCard: '123456789123456',\n        sex: 1,\n        qq: ['123456789', '123']\n      },\n      {\n        userName: 'li2',\n        name: '李2',\n        mobile: '15717179552',\n        identityCard: '123456789123456',\n        sex: 2,\n        qq: '123456789'\n      },\n      {\n        userName: 'li1',\n        name: '李1',\n        mobile: '15717179551',\n        identityCard: '123456789123456',\n        sex: 1,\n        qq: ['123456789', '123']\n      },\n      {\n        userName: 'li2',\n        name: '李2',\n        mobile: '15717179552',\n        identityCard: '123456789123456',\n        sex: 2,\n        qq: '123456789'\n      },\n      {\n        userName: 'li1',\n        name: '李1',\n        mobile: '15717179551',\n        identityCard: '123456789123456',\n        sex: 1,\n        qq: ['123456789', '123']\n      },\n      {\n        userName: 'li2',\n        name: '李2',\n        mobile: '15717179552',\n        identityCard: '123456789123456',\n        sex: 2,\n        qq: '123456789'\n      },\n      {\n        userName: 'li1',\n        name: '李1',\n        mobile: '15717179551',\n        identityCard: '123456789123456',\n        sex: 1,\n        qq: ['123456789', '123']\n      },\n      {\n        userName: 'li2',\n        name: '李2',\n        mobile: '15717179552',\n        identityCard: '123456789123456',\n        sex: 2,\n        qq: '123456789'\n      },\n      {\n        userName: 'li1',\n        name: '李1',\n        mobile: '15717179551',\n        identityCard: '123456789123456',\n        sex: 1,\n        qq: ['123456789', '123']\n      },\n      {\n        userName: 'li2',\n        name: '李2',\n        mobile: '15717179552',\n        identityCard: '123456789123456',\n        sex: 2,\n        qq: '123456789'\n      },\n      {\n        userName: 'li1',\n        name: '李1',\n        mobile: '15717179551',\n        identityCard: '123456789123456',\n        sex: 1,\n        qq: ['123456789', '123']\n      },\n      {\n        userName: 'li2',\n        name: '李2',\n        mobile: '15717179552',\n        identityCard: '123456789123456',\n        sex: 2,\n        qq: '123456789'\n      },\n      {\n        userName: 'li1',\n        name: '李1',\n        mobile: '15717179551',\n        identityCard: '123456789123456',\n        sex: 1,\n        qq: ['123456789', '123']\n      },\n      {\n        userName: 'li2',\n        name: '李2',\n        mobile: '15717179552',\n        identityCard: '123456789123456',\n        sex: 2,\n        qq: '123456789'\n      },\n      {\n        userName: 'li1',\n        name: '李1',\n        mobile: '15717179551',\n        identityCard: '123456789123456',\n        sex: 1,\n        qq: ['123456789', '123']\n      },\n      {\n        userName: 'li2',\n        name: '李2',\n        mobile: '15717179552',\n        identityCard: '123456789123456',\n        sex: 2,\n        qq: '123456789'\n      },\n      {\n        userName: 'li3',\n        name: '李3',\n        mobile: '15717179553',\n        identityCard: '123456789123456',\n        sex: 2,\n        qq: '123456789'\n      }\n    ]\n    this.page.totalElement = this.table.data.length\n    // changeFieldsByProp(this.search.fields, 'sex', { childrens: [{value: 1, label: '男'}]})\n  },\n  methods: {\n    onSearch(search, page) {\n      console.log(search, page)\n    },\n    showDetail(row) {\n      this.$qkDialog({\n        title: '详情',\n        components: Detail,\n        props: { data: row },\n        width: 690\n      })\n    },\n    onAction(action) {\n      // 新增完成后执行操作\n      // todo 刷新列表\n      if (action === 'success') {\n        this.getList()\n      }\n    },\n    addData() {\n      this.$qkDialog({\n        title: '新增',\n        components: Add,\n        width: 690,\n        onAction: this.onAction\n      })\n    },\n    updateData(row) {\n      this.$qkDialog({\n        title: '编辑',\n        components: Add,\n        props: { data: row },\n        width: 690,\n        onAction: this.onAction\n      })\n    }\n  }\n  }\n<\/script>\n")])])]),n("p",[t._v(":::")]),t._v(" "),n("h2",{attrs:{id:"options"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#options"}},[t._v("#")]),t._v(" Options")]),t._v(" "),n("table",{staticClass:"options-table"},[n("thead",[n("tr",[n("th",[t._v("参数")]),t._v(" "),n("th",[t._v("说明")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("可选值")]),t._v(" "),n("th",[t._v("默认值")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("loading")]),t._v(" "),n("td",[t._v("加载状态")]),t._v(" "),n("td",[t._v("boolean")]),t._v(" "),n("td",[t._v("false/true")]),t._v(" "),n("td",[t._v("false")])]),t._v(" "),n("tr",[n("td",[t._v("search")]),t._v(" "),n("td",[t._v("查询配置")]),t._v(" "),n("td",[t._v("Object")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("table")]),t._v(" "),n("td",[t._v("表格配置")]),t._v(" "),n("td",[t._v("Object")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("page")]),t._v(" "),n("td",[t._v("分页配置")]),t._v(" "),n("td",[t._v("Object")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("onSearch")]),t._v(" "),n("td",[t._v("查询方法")]),t._v(" "),n("td",[t._v("Function")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])])])]),t._v(" "),n("h2",{attrs:{id:"search"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#search"}},[t._v("#")]),t._v(" search")]),t._v(" "),n("table",{staticClass:"options-table"},[n("thead",[n("tr",[n("th",[t._v("参数")]),t._v(" "),n("th",[t._v("说明")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("可选值")]),t._v(" "),n("th",[t._v("默认值")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("formData")]),t._v(" "),n("td",[t._v("搜索form绑定值")]),t._v(" "),n("td",[t._v("Object")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("fields")]),t._v(" "),n("td",[t._v("搜索form属性")]),t._v(" "),n("td",[t._v("Array")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("btns")]),t._v(" "),n("td",[t._v("按钮")]),t._v(" "),n("td",[t._v("Array")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("onSearch")]),t._v(" "),n("td",[t._v("查询方法")]),t._v(" "),n("td",[t._v("Function")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])])])]),t._v(" "),n("h3",{attrs:{id:"fields"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#fields"}},[t._v("#")]),t._v(" fields")]),t._v(" "),n("table",{staticClass:"options-table"},[n("thead",[n("tr",[n("th",[t._v("参数")]),t._v(" "),n("th",[t._v("说明")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("可选值")]),t._v(" "),n("th",[t._v("默认值")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("tag")]),t._v(" "),n("td",[t._v("动态渲染组件名称或组件对象")]),t._v(" "),n("td",[t._v("string/VNode")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("field")]),t._v(" "),n("td",[t._v("form对应属性")]),t._v(" "),n("td",[t._v("Array")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("label")]),t._v(" "),n("td",[t._v("悬浮提示/placeholder")]),t._v(" "),n("td",[t._v("string")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("config")]),t._v(" "),n("td",[t._v("参考https://v2.cn.vuejs.org/v2/guide/render-function.html")]),t._v(" "),n("td",[t._v("Object")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])])])]),t._v(" "),n("h3",{attrs:{id:"btns"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#btns"}},[t._v("#")]),t._v(" btns")]),t._v(" "),n("table",{staticClass:"options-table"},[n("thead",[n("tr",[n("th",[t._v("参数")]),t._v(" "),n("th",[t._v("说明")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("可选值")]),t._v(" "),n("th",[t._v("默认值")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("text")]),t._v(" "),n("td",[t._v("按钮名称")]),t._v(" "),n("td",[t._v("string")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("icon")]),t._v(" "),n("td",[t._v("图标库引入的图标类型")]),t._v(" "),n("td",[t._v("string")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("click")]),t._v(" "),n("td",[t._v("点击事件")]),t._v(" "),n("td",[t._v("Funtion")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])])])]),t._v(" "),n("h2",{attrs:{id:"table"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#table"}},[t._v("#")]),t._v(" table")]),t._v(" "),n("table",{staticClass:"options-table"},[n("thead",[n("tr",[n("th",[t._v("参数")]),t._v(" "),n("th",[t._v("说明")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("可选值")]),t._v(" "),n("th",[t._v("默认值")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("selection")]),t._v(" "),n("td",[t._v("复选框")]),t._v(" "),n("td",[t._v("boolean")]),t._v(" "),n("td",[t._v("false/true")]),t._v(" "),n("td",[t._v("false")])]),t._v(" "),n("tr",[n("td",[t._v("index")]),t._v(" "),n("td",[t._v("序号")]),t._v(" "),n("td",[t._v("boolean")]),t._v(" "),n("td",[t._v("false/true")]),t._v(" "),n("td",[t._v("false")])]),t._v(" "),n("tr",[n("td",[t._v("loading")]),t._v(" "),n("td",[t._v("加载动画")]),t._v(" "),n("td",[t._v("boolean")]),t._v(" "),n("td",[t._v("false/true")]),t._v(" "),n("td",[t._v("false")])]),t._v(" "),n("tr",[n("td",[t._v("data")]),t._v(" "),n("td",[t._v("表格数据")]),t._v(" "),n("td",[t._v("Array")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("columns")]),t._v(" "),n("td",[t._v("列数据")]),t._v(" "),n("td",[t._v("Array")]),t._v(" "),n("td",[t._v("必填")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("props")]),t._v(" "),n("td",[t._v("传入对象 components props接收的对象")]),t._v(" "),n("td",[t._v("Object")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("selectable")]),t._v(" "),n("td",[t._v("仅对 type=selection 的列有效，类型为 Function，Function 的返回值用来决定这一行的 CheckBox 是否可以勾选")]),t._v(" "),n("td",[t._v("Function(row, index)")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("defaultSelections")]),t._v(" "),n("td",[t._v("默认选中数据 仅在 type=selection 时有效")]),t._v(" "),n("td",[t._v("Array")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("其他参数")]),t._v(" "),n("td",[t._v("支持ElementUI Table组件其他参数")]),t._v(" "),n("td",[t._v("any")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])])])]),t._v(" "),n("h3",{attrs:{id:"columns"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#columns"}},[t._v("#")]),t._v(" columns")]),t._v(" "),n("table",{staticClass:"options-table"},[n("thead",[n("tr",[n("th",[t._v("参数")]),t._v(" "),n("th",[t._v("说明")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("可选值")]),t._v(" "),n("th",[t._v("默认值")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("key")]),t._v(" "),n("td",[t._v("对应data数据中的属性")]),t._v(" "),n("td",[t._v("string")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("label")]),t._v(" "),n("td",[t._v("对应表头")]),t._v(" "),n("td",[t._v("string")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("options")]),t._v(" "),n("td",[t._v("字典数组(自动匹配value值)")]),t._v(" "),n("td",[t._v("Array")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("filter")]),t._v(" "),n("td",[t._v("过滤器")]),t._v(" "),n("td",[t._v("string")]),t._v(" "),n("td",[t._v("过滤器类型")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("render")]),t._v(" "),n("td",[t._v("自定义渲染函数")]),t._v(" "),n("td",[t._v("Function(h, params)")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("其他参数")]),t._v(" "),n("td",[t._v("支持ElementUI TableColumns组件其他参数")]),t._v(" "),n("td",[t._v("any")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])])])]),t._v(" "),n("h2",{attrs:{id:"page"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#page"}},[t._v("#")]),t._v(" page")]),t._v(" "),n("table",{staticClass:"options-table"},[n("thead",[n("tr",[n("th",[t._v("参数")]),t._v(" "),n("th",[t._v("说明")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("可选值")]),t._v(" "),n("th",[t._v("默认值")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("num")]),t._v(" "),n("td",[t._v("当前页")]),t._v(" "),n("td",[t._v("number")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("size")]),t._v(" "),n("td",[t._v("每页数量")]),t._v(" "),n("td",[t._v("number")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])]),t._v(" "),n("tr",[n("td",[t._v("totalElement")]),t._v(" "),n("td",[t._v("总条数")]),t._v(" "),n("td",[t._v("number")]),t._v(" "),n("td",[t._v("—")]),t._v(" "),n("td",[t._v("—")])])])])])}),[],!1,null,null,null);n.default=_.exports}}]);