<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>list 业务组件 | 前端mlg</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="前端技术知识点">
    
    <link rel="preload" href="/assets/css/0.styles.67c08e7f.css" as="style"><link rel="preload" href="/assets/js/app.b364a2f9.js" as="script"><link rel="preload" href="/assets/js/2.487b4d99.js" as="script"><link rel="preload" href="/assets/js/13.7ab801e8.js" as="script"><link rel="prefetch" href="/assets/js/10.be456118.js"><link rel="prefetch" href="/assets/js/11.ca72be9d.js"><link rel="prefetch" href="/assets/js/12.83c7bac2.js"><link rel="prefetch" href="/assets/js/14.f77dca07.js"><link rel="prefetch" href="/assets/js/3.214078fe.js"><link rel="prefetch" href="/assets/js/4.298058ea.js"><link rel="prefetch" href="/assets/js/5.9c701c38.js"><link rel="prefetch" href="/assets/js/6.94f35d6d.js"><link rel="prefetch" href="/assets/js/7.91a26545.js"><link rel="prefetch" href="/assets/js/8.85ac5431.js"><link rel="prefetch" href="/assets/js/9.e28b7736.js">
    <link rel="stylesheet" href="/assets/css/0.styles.67c08e7f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端mlg</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/comps/" class="nav-link router-link-active">
  组件
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="资源链接" class="dropdown-title"><span class="title">资源链接</span> <span class="arrow down"></span></button> <button type="button" aria-label="资源链接" class="mobile-dropdown-title"><span class="title">资源链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/OBKoro1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub地址
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/OBKoro1/Brush_algorithm" target="_blank" rel="noopener noreferrer" class="nav-link external">
  算法仓库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/comps/" class="nav-link router-link-active">
  组件
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="资源链接" class="dropdown-title"><span class="title">资源链接</span> <span class="arrow down"></span></button> <button type="button" aria-label="资源链接" class="mobile-dropdown-title"><span class="title">资源链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/OBKoro1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub地址
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/OBKoro1/Brush_algorithm" target="_blank" rel="noopener noreferrer" class="nav-link external">
  算法仓库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/comps/" aria-current="page" class="sidebar-link">安装</a></li><li><a href="/comps/table.html" class="sidebar-link">table 表格</a></li><li><a href="/comps/list.html" aria-current="page" class="active sidebar-link">list 业务组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/comps/list.html#基本用法" class="sidebar-link">基本用法</a></li><li class="sidebar-sub-header"><a href="/comps/list.html#options" class="sidebar-link">Options</a></li><li class="sidebar-sub-header"><a href="/comps/list.html#search" class="sidebar-link">search</a></li><li class="sidebar-sub-header"><a href="/comps/list.html#table" class="sidebar-link">table</a></li><li class="sidebar-sub-header"><a href="/comps/list.html#page" class="sidebar-link">page</a></li></ul></li><li><a href="/comps/form.html" class="sidebar-link">form 表单</a></li><li><a href="/comps/dialog.html" class="sidebar-link">dialog 弹出层</a></li><li><a href="/comps/detail.html" class="sidebar-link">detail 详情页</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="list-业务组件"><a href="#list-业务组件" class="header-anchor">#</a> list 业务组件</h1> <h2 id="基本用法"><a href="#基本用法" class="header-anchor">#</a> 基本用法</h2> <p>::: demo</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;template&gt;
  &lt;div class=&quot;demo-list&quot;&gt;
    &lt;QkList
      :loading=&quot;loading&quot;
      :search=&quot;search&quot;
      :table=&quot;table&quot;
      :page=&quot;page&quot;
      @on-search=&quot;onSearch&quot;
    /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  export default {
    data() {
      const { changeFieldsByProp, formField, formFieldGroup, generateBtns } = this.$qkUtils
      const sex = [{value: 1, label:'男'},{value: 2, label:'女'}]
      return {
        loading: false,
        // 搜索条件
        search: {
          formData: {
            test: []
          },
          fields: [
            // 对象方式
            { tag: 'el-input', field: 'username', label: '用户名', config: { attrs: { placeholder: '用户名' }, props: { clearable: true }} },
            // 函数方式 默认渲染el-input标签
            formField(&quot;name&quot;, &quot;姓名&quot;),
            formFieldGroup(&quot;sex&quot;, &quot;性别&quot;, sex),
            // 函数方式 指定渲染标签
            formField(&quot;time&quot;, &quot;时间&quot;, 'DatePicker', { props: { type: 'datetime' }}),
          ],
          btns: [
          // { text: '新增', icon: 'add', click: this.addData },
            { text: '新增', click: this.addData }
          ],
        },
        // 表格
        table: {
          data: [],
          columns: [
            {
              key: &quot;userName&quot;,
              label: &quot;用户名&quot;
            },
            {
              key: &quot;name&quot;,
              label: &quot;姓名&quot;
            },
            {
              key: &quot;mobile&quot;,
              label: &quot;手机号&quot;
            },
            {
              key: 'supplier.name',
              label: '厂商'
            },
            {
              key: &quot;identityCard&quot;,
              label: &quot;身份证&quot;
            },
            {
              key: &quot;sex&quot;,
              label: &quot;性别&quot;,
              options: sex
            },
            {
              key: &quot;qq&quot;,
              label: &quot;qq&quot;
            },
            {
              key: &quot;email&quot;,
              label: &quot;电子邮箱&quot;
            },
            {
              key: &quot;address&quot;,
              label: &quot;联系地址&quot;
            },
            {
              key: &quot;buttons&quot;,
              label: &quot;操作&quot;,
              width: &quot;120&quot;,
              align: &quot;center&quot;,
              fixed: &quot;right&quot;,
              render: (h, params) =&gt; {
                const buttons = [
                  {
                    text: &quot;编辑&quot;,
                    click: this.updateData,
                  },
                  {
                    text: &quot;详情&quot;,
                    click: this.showDetail,
                  }
                ]
                return generateBtns(h, params, buttons)
              },
            },
          ],
        },
        // 分页
        page: {
          num: 1,
          size: 20,
          totalElement: 0,
        },
      }
    },
  created() {
    this.table.data = [
      {
        userName: 'li1',
        name: '李1',
        mobile: '15717179551',
        identityCard: '1234567891223231233456',
        sex: 1,
        qq: ['123456789', '123', '123312312323'],
        supplier: {
          name: '厂商1'
        },
        org: {
          type: 1
        }
      },
      {
        userName: 'li2',
        name: '李2',
        mobile: '15717179552',
        identityCard: '123456789123456',
        sex: 2,
        qq: '123456789',
        supplier: {
          name: '厂商2'
        }
      },
      {
        userName: 'li1',
        name: '李1',
        mobile: '15717179551',
        identityCard: '123456789123456',
        sex: 1,
        qq: ['123456789', '123', '123312312323']
      },
      {
        userName: 'li2',
        name: '李2',
        mobile: '15717179552',
        identityCard: '123456789123456',
        sex: 2,
        qq: '123456789'
      },
      {
        userName: 'li1',
        name: '李1',
        mobile: '15717179551',
        identityCard: '123456789123456',
        sex: 1,
        qq: ['123456789', '123']
      },
      {
        userName: 'li2',
        name: '李2',
        mobile: '15717179552',
        identityCard: '123456789123456',
        sex: 2,
        qq: '123456789'
      },
      {
        userName: 'li1',
        name: '李1',
        mobile: '15717179551',
        identityCard: '123456789123456',
        sex: 1,
        qq: ['123456789', '123']
      },
      {
        userName: 'li2',
        name: '李2',
        mobile: '15717179552',
        identityCard: '123456789123456',
        sex: 2,
        qq: '123456789'
      },
      {
        userName: 'li1',
        name: '李1',
        mobile: '15717179551',
        identityCard: '123456789123456',
        sex: 1,
        qq: ['123456789', '123']
      },
      {
        userName: 'li2',
        name: '李2',
        mobile: '15717179552',
        identityCard: '123456789123456',
        sex: 2,
        qq: '123456789'
      },
      {
        userName: 'li1',
        name: '李1',
        mobile: '15717179551',
        identityCard: '123456789123456',
        sex: 1,
        qq: ['123456789', '123']
      },
      {
        userName: 'li2',
        name: '李2',
        mobile: '15717179552',
        identityCard: '123456789123456',
        sex: 2,
        qq: '123456789'
      },
      {
        userName: 'li1',
        name: '李1',
        mobile: '15717179551',
        identityCard: '123456789123456',
        sex: 1,
        qq: ['123456789', '123']
      },
      {
        userName: 'li2',
        name: '李2',
        mobile: '15717179552',
        identityCard: '123456789123456',
        sex: 2,
        qq: '123456789'
      },
      {
        userName: 'li1',
        name: '李1',
        mobile: '15717179551',
        identityCard: '123456789123456',
        sex: 1,
        qq: ['123456789', '123']
      },
      {
        userName: 'li2',
        name: '李2',
        mobile: '15717179552',
        identityCard: '123456789123456',
        sex: 2,
        qq: '123456789'
      },
      {
        userName: 'li1',
        name: '李1',
        mobile: '15717179551',
        identityCard: '123456789123456',
        sex: 1,
        qq: ['123456789', '123']
      },
      {
        userName: 'li2',
        name: '李2',
        mobile: '15717179552',
        identityCard: '123456789123456',
        sex: 2,
        qq: '123456789'
      },
      {
        userName: 'li1',
        name: '李1',
        mobile: '15717179551',
        identityCard: '123456789123456',
        sex: 1,
        qq: ['123456789', '123']
      },
      {
        userName: 'li2',
        name: '李2',
        mobile: '15717179552',
        identityCard: '123456789123456',
        sex: 2,
        qq: '123456789'
      },
      {
        userName: 'li1',
        name: '李1',
        mobile: '15717179551',
        identityCard: '123456789123456',
        sex: 1,
        qq: ['123456789', '123']
      },
      {
        userName: 'li2',
        name: '李2',
        mobile: '15717179552',
        identityCard: '123456789123456',
        sex: 2,
        qq: '123456789'
      },
      {
        userName: 'li1',
        name: '李1',
        mobile: '15717179551',
        identityCard: '123456789123456',
        sex: 1,
        qq: ['123456789', '123']
      },
      {
        userName: 'li2',
        name: '李2',
        mobile: '15717179552',
        identityCard: '123456789123456',
        sex: 2,
        qq: '123456789'
      },
      {
        userName: 'li1',
        name: '李1',
        mobile: '15717179551',
        identityCard: '123456789123456',
        sex: 1,
        qq: ['123456789', '123']
      },
      {
        userName: 'li2',
        name: '李2',
        mobile: '15717179552',
        identityCard: '123456789123456',
        sex: 2,
        qq: '123456789'
      },
      {
        userName: 'li3',
        name: '李3',
        mobile: '15717179553',
        identityCard: '123456789123456',
        sex: 2,
        qq: '123456789'
      }
    ]
    this.page.totalElement = this.table.data.length
    // changeFieldsByProp(this.search.fields, 'sex', { childrens: [{value: 1, label: '男'}]})
  },
  methods: {
    onSearch(search, page) {
      console.log(search, page)
    },
    showDetail(row) {
      this.$qkDialog({
        title: '详情',
        components: Detail,
        props: { data: row },
        width: 690
      })
    },
    onAction(action) {
      // 新增完成后执行操作
      // todo 刷新列表
      if (action === 'success') {
        this.getList()
      }
    },
    addData() {
      this.$qkDialog({
        title: '新增',
        components: Add,
        width: 690,
        onAction: this.onAction
      })
    },
    updateData(row) {
      this.$qkDialog({
        title: '编辑',
        components: Add,
        props: { data: row },
        width: 690,
        onAction: this.onAction
      })
    }
  }
  }
&lt;/script&gt;
</code></pre></div><p>:::</p> <h2 id="options"><a href="#options" class="header-anchor">#</a> Options</h2> <table class="options-table"><thead><tr><th>参数</th> <th>说明</th> <th>类型</th> <th>可选值</th> <th>默认值</th></tr></thead> <tbody><tr><td>loading</td> <td>加载状态</td> <td>boolean</td> <td>false/true</td> <td>false</td></tr> <tr><td>search</td> <td>查询配置</td> <td>Object</td> <td>—</td> <td>—</td></tr> <tr><td>table</td> <td>表格配置</td> <td>Object</td> <td>—</td> <td>—</td></tr> <tr><td>page</td> <td>分页配置</td> <td>Object</td> <td>—</td> <td>—</td></tr> <tr><td>onSearch</td> <td>查询方法</td> <td>Function</td> <td>—</td> <td>—</td></tr></tbody></table> <h2 id="search"><a href="#search" class="header-anchor">#</a> search</h2> <table class="options-table"><thead><tr><th>参数</th> <th>说明</th> <th>类型</th> <th>可选值</th> <th>默认值</th></tr></thead> <tbody><tr><td>formData</td> <td>搜索form绑定值</td> <td>Object</td> <td>—</td> <td>—</td></tr> <tr><td>fields</td> <td>搜索form属性</td> <td>Array</td> <td>—</td> <td>—</td></tr> <tr><td>btns</td> <td>按钮</td> <td>Array</td> <td>—</td> <td>—</td></tr> <tr><td>onSearch</td> <td>查询方法</td> <td>Function</td> <td>—</td> <td>—</td></tr></tbody></table> <h3 id="fields"><a href="#fields" class="header-anchor">#</a> fields</h3> <table class="options-table"><thead><tr><th>参数</th> <th>说明</th> <th>类型</th> <th>可选值</th> <th>默认值</th></tr></thead> <tbody><tr><td>tag</td> <td>动态渲染组件名称或组件对象</td> <td>string/VNode</td> <td>—</td> <td>—</td></tr> <tr><td>field</td> <td>form对应属性</td> <td>Array</td> <td>—</td> <td>—</td></tr> <tr><td>label</td> <td>悬浮提示/placeholder</td> <td>string</td> <td>—</td> <td>—</td></tr> <tr><td>config</td> <td>参考https://v2.cn.vuejs.org/v2/guide/render-function.html</td> <td>Object</td> <td>—</td> <td>—</td></tr></tbody></table> <h3 id="btns"><a href="#btns" class="header-anchor">#</a> btns</h3> <table class="options-table"><thead><tr><th>参数</th> <th>说明</th> <th>类型</th> <th>可选值</th> <th>默认值</th></tr></thead> <tbody><tr><td>text</td> <td>按钮名称</td> <td>string</td> <td>—</td> <td>—</td></tr> <tr><td>icon</td> <td>图标库引入的图标类型</td> <td>string</td> <td>—</td> <td>—</td></tr> <tr><td>click</td> <td>点击事件</td> <td>Funtion</td> <td>—</td> <td>—</td></tr></tbody></table> <h2 id="table"><a href="#table" class="header-anchor">#</a> table</h2> <table class="options-table"><thead><tr><th>参数</th> <th>说明</th> <th>类型</th> <th>可选值</th> <th>默认值</th></tr></thead> <tbody><tr><td>selection</td> <td>复选框</td> <td>boolean</td> <td>false/true</td> <td>false</td></tr> <tr><td>index</td> <td>序号</td> <td>boolean</td> <td>false/true</td> <td>false</td></tr> <tr><td>loading</td> <td>加载动画</td> <td>boolean</td> <td>false/true</td> <td>false</td></tr> <tr><td>data</td> <td>表格数据</td> <td>Array</td> <td>—</td> <td>—</td></tr> <tr><td>columns</td> <td>列数据</td> <td>Array</td> <td>必填</td> <td>—</td></tr> <tr><td>props</td> <td>传入对象 components props接收的对象</td> <td>Object</td> <td>—</td> <td>—</td></tr> <tr><td>selectable</td> <td>仅对 type=selection 的列有效，类型为 Function，Function 的返回值用来决定这一行的 CheckBox 是否可以勾选</td> <td>Function(row, index)</td> <td>—</td> <td>—</td></tr> <tr><td>defaultSelections</td> <td>默认选中数据 仅在 type=selection 时有效</td> <td>Array</td> <td>—</td> <td>—</td></tr> <tr><td>其他参数</td> <td>支持ElementUI Table组件其他参数</td> <td>any</td> <td>—</td> <td>—</td></tr></tbody></table> <h3 id="columns"><a href="#columns" class="header-anchor">#</a> columns</h3> <table class="options-table"><thead><tr><th>参数</th> <th>说明</th> <th>类型</th> <th>可选值</th> <th>默认值</th></tr></thead> <tbody><tr><td>key</td> <td>对应data数据中的属性</td> <td>string</td> <td>—</td> <td>—</td></tr> <tr><td>label</td> <td>对应表头</td> <td>string</td> <td>—</td> <td>—</td></tr> <tr><td>options</td> <td>字典数组(自动匹配value值)</td> <td>Array</td> <td>—</td> <td>—</td></tr> <tr><td>filter</td> <td>过滤器</td> <td>string</td> <td>过滤器类型</td> <td>—</td></tr> <tr><td>render</td> <td>自定义渲染函数</td> <td>Function(h, params)</td> <td>—</td> <td>—</td></tr> <tr><td>其他参数</td> <td>支持ElementUI TableColumns组件其他参数</td> <td>any</td> <td>—</td> <td>—</td></tr></tbody></table> <h2 id="page"><a href="#page" class="header-anchor">#</a> page</h2> <table class="options-table"><thead><tr><th>参数</th> <th>说明</th> <th>类型</th> <th>可选值</th> <th>默认值</th></tr></thead> <tbody><tr><td>num</td> <td>当前页</td> <td>number</td> <td>—</td> <td>—</td></tr> <tr><td>size</td> <td>每页数量</td> <td>number</td> <td>—</td> <td>—</td></tr> <tr><td>totalElement</td> <td>总条数</td> <td>number</td> <td>—</td> <td>—</td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/comps/table.html" class="prev">
        table 表格
      </a></span> <span class="next"><a href="/comps/form.html">
        form 表单
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b364a2f9.js" defer></script><script src="/assets/js/2.487b4d99.js" defer></script><script src="/assets/js/13.7ab801e8.js" defer></script>
  </body>
</html>
